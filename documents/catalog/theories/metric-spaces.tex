\documentclass[uplatex, dvipdfmx, a4paper, 12pt, class=jsbook, crop=false]{standalone}
\usepackage{import}
\import{../}{common-preamble.sty}

\begin{document}
\section{距離空間}
\label{sec:metric-spaces}

\newcommand{\topbd}{\mathop{\mathrm{Bd}}\nolimits}

\begin{definition}
	集合$ X $と写像$ d \colon X \times X \to \R $の組$ (X, d) $について次の4条件が成り立つとき,
	$ (X, d) $を\indexjj{きょりくうかん}{離化空間}{metric space}といい,
	$ d $を$ X $上の\indexjj{きょり}{距離}{metric}という.
	\begin{enumerate}
		\item 任意の$ x, y \in X $について$ d(x, y) \geq 0 $が成り立つ.
  		\item 任意の$ x, y \in X $について$ d(x, y) = 0 $と$ x = y $が同値である.
    	\item 任意の$ x, y \in X $について$ d(x, y) = d(y, x) $が成り立つ.
     	\item 任意の$ x, y, z \in X $について$ d(x, y) + d(y, z) \geq d(x, z) $が成り立つ.
	\end{enumerate}
	4つ目の条件の不等式は\indexjj{さんかくふとうしき}{三角不等式}{triangle inequality}とよばれる.
\end{definition}

\begin{definition}
	$ (X, d) $を距離空間とする. $ x \in X $と$ \varepsilon > 0 $に対して
	\[ \topball{x}{\varepsilon} \defeq \setcomp{y \in X}{d(x, y) < \varepsilon} \]
	で定義される$ \topball{x}{\varepsilon} $を$ x $の
	\indexjj{イプシロンきんぼう}{$\varepsilon$近傍}{epsilon neighborhood}または
	\indexjj{かいきゅう}{開球}{open ball}という.
\end{definition}

\begin{definition}
	距離空間$ (X, d) $における部分集合族$ \mathcal{O}_d $を
	\[ \mathcal{O}_d \defeq \setcomp{U \in \pow(X)}
	{\mbox{任意の}x \in U \mbox{についてある} \varepsilon > 0 \mbox{が存在して}
	\topball{x}{\varepsilon} \subset U \mbox{を満たす.}} \]
	によって定めると, $ \mathcal{O}_d $は位相の公理を満たし,
	$ \mathcal{O}_d $を距離$ d $から定まる位相という.
\end{definition}

上のように定義される$ \mathcal{O}_d $が位相の公理を満たすことは容易に確かめられる.
距離空間$ (X, d) $に対して$ (X, \mathcal{O}_d) $を距離から定まる位相空間と呼ぶ.
以降では, 特に断ることなく距離空間$ (X, d) $をその距離から定まる位相をもつ位相空間
$ (X, \mathcal{O}_d) $とみなして議論を進める場合がある.

\begin{proposition}
	距離空間$ (X, d) $において任意の開球は開集合である.
\end{proposition}

\begin{proof}
	任意の$ x \in X, \varepsilon > 0 $について$ \topball{x}{\varepsilon} $が開集合であることを示す.
	任意に$ y \in \topball{x}{\varepsilon} $をとる.
	$ y = x $のとき$ \topball{y}{\varepsilon} \subset \topball{x}{\varepsilon} $である.
	$ y \neq x $のときある$ \delta > 0 $であって$ \delta < \varepsilon - d(x,y) $を満たすものが存在する.
	このとき, 任意の$ z \in \topball{y}{\delta} $について
	$ d(x, z) \leq d(x, y) + d(y, z) < d(x, y) + \delta < \varepsilon $が成り立つ.
	よって, $ z \in \topball{x}{\varepsilon} $より$ \topball{y}{\delta} \subset \topball{x}{\varepsilon} $である.
\end{proof}

\begin{proposition}
	$ (X, d) $を距離空間とする. 点$ x \in X $について集合族$ \topnbd[d]{x} $を
	\[ \topnbd[d]{x} \defeq \setcomp{\topball{x}{\varepsilon}}{\varepsilon > 0} \]
	で定めると, $ \topnbd[d]{x} $は近傍族の公理を満たす.
	\qed
\end{proposition}

\begin{proposition}
	$ (X, d_X), (Y, d_Y) $を距離空間とする.
	$ X, Y $を, それぞれの距離$ d_X, d_Y $から定まる位相をもつ位相空間とみなすとき,
	写像$ f \colon X \to Y $については同値である.
	\begin{enumerate}
		\item $ f $が連続である.
		\item 任意の点$ x $について次が成り立つ.
			\[\mbox{任意の} \varepsilon > 0 \mbox{について}
			\delta > 0 \mbox{が存在して} \mapset{f}{B(x, \delta)}
			\subset B(x, \mappt{f}{x}).\]
	\end{enumerate}
\end{proposition}

\begin{proposition}
	$ (X, d) $を距離空間とする. このとき, 任意の$ \varepsilon > 0 $について
	$ d' \colon X \times X \to \R $を$ d'(x, y) \defeq \min \lrbrace{\varepsilon,
	d(x, y)} $と定めると, $ d' $は$ X $上の距離であり,
	$ d, d' $の定める位相は一致する.
\end{proposition}

\begin{proposition}
	各$ i = 0, 1, \ldots, n $について$ (X_i, d_i) $を距離空間とする.
	ここで各$ X_i $を距離$ d_i $から定まる位相空間と見なすとき,
	積空間$ X \defeq \prod_{i=0}^n X_i $は距離化可能空間である.
	特に, 次で定義される$ X $上の距離$ d^{(m)} $と
	$ d^{(\infty)} $から定まる位相は$ X $に定まっている積位相に一致する.
	ただし, $ m $を1以上の自然数とし, $ x, y \in X \times X $は$ x = (x_0, \ldots, x_n),
	y = (y_0, \ldots, y_n) $とする.
	\begin{enumerate}
		\item $ d^{(m)}(x, y) \defeq \sqrt[m]{\sum_{i=0}^n d_i(x_i, y_i)^m} $.
		\item $ d^{(\infty)}(x, y) \defeq \max \setcomp{d_i(x_i, y_i)}{i=0, 1, \ldots, n} $.
	\end{enumerate}
\end{proposition}

\begin{proof}
	$ d^{(\infty)} $が$ X $に定める位相を$ \mathcal{O}_{d^{(\infty)}} $とし,
	$ X $に定まっている積位相を$ \mathcal{O}_X $として
	$ \mathcal{O}_{d^{(\infty)}} = \mathcal{O}_X $を示す.

	$ U \in \mathcal{O}_X $と任意の点$ x \in U $をとる.
	このとき, ある$ \varepsilon > 0 $が存在して
	$ x \in \prod_{i=0}^n B_i(x_i, \varepsilon) \subset U $が成り立つ.
	ただし, $ B_i(x_i, \varepsilon) $は$ X_i $において$ x_i $を中心とする
	半径$ \varepsilon $の開球である.
	ここで, $ (X, d^{(\infty)}) $において$ x $を中心とする半径$ \varepsilon $の開球を
	$ B(x, \varepsilon) $とすると, 任意の$ y \in B(x, \varepsilon) $について
	$ d_i(x_i, y_i) < \varepsilon $が成り立つので
	$ B(x, \varepsilon) \subset \prod_{i=0}^n B_i(x_i, \varepsilon) \subset U $が成り立つ.
	よって, $ U = \bigcup_{x \in U} B(x, \varepsilon) $より$ U \in \mathcal{O}_{d^{(\infty)}} $が成り立つ.

	次に$ V \in \mathcal{O}_{d^{(\infty)}} $と任意の点$ x \in V $をとる.
	ある$ \delta > 0 $が存在して$ B(x, \delta) \subset V $が成り立つ.
	ここで, $ W_x \defeq \prod_{i=0}^n B_i(x_i, \delta) $と定めると
	明らかに$ W \subset B(x, \delta) \subset V $である.
	よって, $ V = \bigcup_{x \in V} W_x $より$ V \in \mathcal{O}_X $より
	$ \mathcal{O}_{d^{(\infty)}} = \mathcal{O}_X $が成り立つ.

	また, 任意の2点$ x, y \in X $について$ d^{(\infty)}(x, y) \leq
	d^{(m)}(x, y) \leq \sqrt[m]{n+1} d^{(\infty)}(x, y)$より,
	$ d^{(\infty)}(x, y) $の定める位相と$ d^{(m)} $の定める位相が一致することが確かめられる.
\end{proof}

\begin{proposition}
	$ \setfamily{(X_n, d_n)}{n \in \N} $を可算無限個の距離空間の列とする.
	このとき, 積空間$ X \defeq \prod_{n \in \N} X_n $は距離化可能である.
\end{proposition}

\begin{proposition}
	$ X, Y $を互いに交わらない距離空間とするとき,
	位相空間としての直和$ X \cup Y $は距離化可能である.
\end{proposition}

\begin{proposition}[{\cite[Theorem~4.4.15]{Engelking1989GT}}]
	$ \morph{f}{X}{Y} $を距離化可能空間$ X $から位相空間$ Y $への完全写像とする.
	このとき, $ Y $は距離化可能である.
\end{proposition}

\begin{theorem}[Hanai-Morita-Stone Theorem]
	$ \morph{f}{X}{Y} $を距離化可能空間$ X $から位相空間$ Y $への閉写像とする.
	このとき, 次は同値である:
	\begin{enumerate}
		\item $ Y $は距離化可能である.
		\item $ Y $は第一可算である.
		\item 任意の$ y \in Y $について$ \topbd \mapinvpt{f}{y} $はコンパクトである.
	\end{enumerate}
\end{theorem}

\begin{proposition}[{\cite[Theorem~4.4.18]{Engelking1989GT}}]
	$ \morph{f}{X}{Y} $を距離化可能空間$ X $から位相空間$ Y $への開閉写像とする.
	このとき, $ Y $は距離化可能である.
\end{proposition}

\end{document}